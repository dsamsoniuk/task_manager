import{n as m,g as $,w as c,b as e,e as n,a as _,t as i,k,u,l as p,i as b,v as w,o as f,F as N,r as q,q as B,p as g}from"./app-8NEzf53h.js";import{_ as C}from"./AppLayout.vue_vue_type_script_setup_true_lang-NEul6qaW.js";import{_ as P}from"./FlashMessage-FQ4zxtwt.js";import{P as v}from"./Pagination-KTcNn25H.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BnBXCesv.js";import"./useForwardExpose-BNc-PHMS.js";import"./VisuallyHidden-drengAhL.js";import"./index-4Ns3tNZl.js";const D={class:"m-4 overflow-x-auto"},F={class:"border p-4"},V={class:"text-xl font-bold mb-4 border-b pb-2"},z={class:"mb-4 text-[grey]"},U={class:"m-3"},E={class:"m-3"},L={class:"collapse-title font-semibold"},O={class:"flex justify-between items-center p-4"},R={class:"text-xl font-bold text-gray-800"},S={class:"flex space-x-4"},T=["onClick"],I=["onClick"],K={class:"collapse-content text-sm pl-10 whitespace-pre-line overflow-y-auto max-h-150"},M={class:"m-3"},Z={__name:"ShowNotes",props:{notes:Object,project:Object},setup(r){const d=m(""),h=r,a=m({...h.notes});async function l(o){o.query=d.value??"";try{const t=o.query?`?q=${o.query}`:"",s=await B.get(`/dashboard/project-notes/${h.project.id}/by-page/${o.page}/${t}`);a.value=s.data.notes}catch{console.log("Nie udało się pobrać danych.")}}function y(o){confirm("Na pewno chcesz usunąć?")&&(g.delete(`/dashboard/notes/${o}`),l({page:a.value.current_page}))}function x(o){confirm("Na pewno chcesz ukryć?")&&(g.put(`/dashboard/notes/${o}/hide`),l({page:a.value.current_page}))}return(o,t)=>(f(),$(C,null,{default:c(()=>[e("div",D,[e("div",F,[e("h1",V,i(r.project.name),1),e("h4",z,i(r.project.description),1)]),n(P),e("div",U,[n(u(p),{href:`/dashboard/notes/create-by-project/${r.project.id}`,class:"btn btn-accent"},{default:c(()=>[...t[2]||(t[2]=[b("Dodaj note",-1)])]),_:1},8,["href"]),k(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),onKeyup:t[1]||(t[1]=s=>l({page:1})),class:"ml-3 input",placeholder:"Wyszukaj po tytule"},null,544),[[w,d.value]])]),e("div",E,[n(v,{"current-page":a.value.current_page,"total-pages":a.value.last_page,onRunParentFn:l},null,8,["current-page","total-pages"])]),(f(!0),_(N,null,q(a.value.data,s=>(f(),_("details",{key:s.id,class:"collapse bg-base-100 border-base-300 border mb-2"},[e("summary",L,[e("div",O,[e("h1",R,i(s.title),1),e("div",S,[n(u(p),{href:`/dashboard/notes/${s.id}/edit`,class:"text-green-600 hover:underline"},{default:c(()=>[...t[3]||(t[3]=[b("Edytuj",-1)])]),_:1},8,["href"]),e("div",null,"priorytet: "+i(s.priority),1),e("button",{type:"button",onClick:j=>x(s.id),class:"text-orange-600 hover:underline"},"Ukryj",8,T),e("button",{type:"button",onClick:j=>y(s.id),class:"text-red-600 hover:underline"},"Usuń",8,I)])])]),e("div",K,i(s.description),1)]))),128)),e("div",M,[n(u(p),{href:`/dashboard/notes/create-by-project/${r.project.id}`,class:"btn btn-accent"},{default:c(()=>[...t[4]||(t[4]=[b("Dodaj note",-1)])]),_:1},8,["href"])]),n(v,{"current-page":a.value.current_page,"total-pages":a.value.last_page,onRunParentFn:l},null,8,["current-page","total-pages"])])]),_:1}))}};export{Z as default};
